<!--
  Generated template for the EquipmentOptionsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>{{'SELECT_VEHICLE' | translate}}</ion-title>
  </ion-navbar>
</ion-header>


<!--TODO: Add sliding segments-->
<!--TODO: Use *ngFor to define segments-->
<ion-content class="forms-content">

  <ion-segment class="forms-segment" [(ngModel)]="section" (ionChange)="onSegmentChanged($event)">
    <ion-segment-button value="truck" (ionSelect)="onSegmentSelected($event)">
      {{'TRUCK' | translate}}
    </ion-segment-button>
    <ion-segment-button value="largeTruck" (ionSelect)="onSegmentSelected($event)">
      {{'LARGE_TRUCK' | translate}}
    </ion-segment-button>
    <ion-segment-button value="boxVan" (ionSelect)="onSegmentSelected($event)">
      {{'BOX_VAN' | translate}}
    </ion-segment-button>
  </ion-segment>

  <div [ngSwitch]="section" class="forms-wrapper">
    <div *ngSwitchCase="'truck'">
        <!--TRUCK DETAILS-->
        <ion-card class="card-item">
          <preload-image [ratio]="{w:3, h:2}"
                         [src]="options.truck.img"
                         title="options.truck.title">
          </preload-image>

          <ion-card-content class="card-content">
            <ion-row>
              <ion-col width-50>
                <ion-card-title class="card-title">
                  Pricing
                </ion-card-title>

                <div>
                  <p class="item-text">
                    Base Fee: ${{ options.truck.pricing.baseFee }}
                  </p>

                  <p class="item-text">
                    Minimum: ${{ options.truck.pricing.minimumFee }}
                  </p>
                  <p class="item-text">
                    Charge Per Mile: ${{ options.truck.pricing.feePerMile }}
                  </p>
                </div>

              </ion-col>

              <ion-col width-50>
                <ion-card-title class="card-title">
                  Dimensions
                </ion-card-title>
                <div>
                  <p class="item-text">
                    Bed Size:
                    {{ options.truck.dimensions.bedDims[0] }}
                    x
                    {{ options.truck.dimensions.bedDims[1] }} ft

                  </p>

                  <p class="item-text">
                    Engine Capacity:
                    {{ options.truck.dimensions.engine[0] }}-{{ options.truck.dimensions.engine[1] }} cyl.

                  </p>
                  <p class="item-text">
                    Max Weight: {{ options.truck.dimensions.maxWeight }} lbs
                  </p>
                </div>

              </ion-col>

            </ion-row>
          </ion-card-content>
        </ion-card>
    </div>

    <div *ngSwitchCase="'largeTruck'">
        <ion-card class="card-item">
          <preload-image [ratio]="{w:3, h:2}"
                         [src]="options.largeTruck.img"
                         title="options.largeTruck.title">
          </preload-image>

          <ion-card-content class="card-content">
            <ion-row>
              <ion-col width-50>
                <ion-card-title class="card-title">
                  Pricing
                </ion-card-title>

                <div>
                  <p class="item-text">
                    Base Fee: ${{ options.largeTruck.pricing.baseFee }}
                  </p>

                  <p class="item-text">
                    Minimum: ${{ options.largeTruck.pricing.minimumFee }}
                  </p>
                  <p class="item-text">
                    Charge Per Mile: ${{ options.largeTruck.pricing.feePerMile }}
                  </p>
                </div>

              </ion-col>

              <ion-col width-50>
                <ion-card-title class="card-title">
                  Dimensions
                </ion-card-title>
                <div>
                  <p class="item-text">
                    Bed Size:
                    {{ options.largeTruck.dimensions.bedDims[0] }}+ ft

                  </p>

                  <p class="item-text">
                    Engine Capacity:
                    {{ options.largeTruck.dimensions.engine[0] }}-{{ options.largeTruck.dimensions.engine[1] }} cyl.

                  </p>
                  <p class="item-text">
                    Max Weight: {{ options.largeTruck.dimensions.maxWeight }} lbs
                  </p>
                </div>

              </ion-col>

            </ion-row>
          </ion-card-content>
        </ion-card>
    </div>

    <div *ngSwitchCase="'boxVan'">
        <ion-card class="card-item">
          <preload-image [ratio]="{w:3, h:2}"
                         [src]="options.boxVan.img"
                         title="options.boxVan.title">
          </preload-image>

          <ion-card-content class="card-content">
            <ion-row>
              <ion-col width-50>
                <ion-card-title class="card-title">
                  Pricing
                </ion-card-title>

                <div>
                  <p class="item-text">
                    Base Fee: ${{ options.boxVan.pricing.baseFee }}
                  </p>

                  <p class="item-text">
                    Minimum: ${{ options.boxVan.pricing.minimumFee }}
                  </p>
                  <p class="item-text">
                    Charge Per Mile: ${{ options.boxVan.pricing.feePerMile }}
                  </p>
                </div>

              </ion-col>

              <ion-col width-50>
                <ion-card-title class="card-title">
                  Dimensions
                </ion-card-title>
                <div>
                  <p class="item-text">
                    Bed Size:
                    {{ options.boxVan.dimensions.bedDims[0] }}+ ft

                  </p>

                  <p class="item-text">
                    Engine Capacity:
                    {{ options.boxVan.dimensions.engine[0] }}-{{ options.boxVan.dimensions.engine[1] }} cyl.

                  </p>
                  <p class="item-text">
                    Max Weight: {{ options.boxVan.dimensions.maxWeight }} lbs
                  </p>
                </div>

              </ion-col>

            </ion-row>
          </ion-card-content>
        </ion-card>
    </div>
  </div>

  <section>
    <h2 class="section-title">
      Job Request Summary
    </h2>
    <ion-item class="summary-item">
      <ion-label>
        <h3 class="summary-label">
          Pickup address
        </h3>
        <h3 class="summary-value">
          {{ jobRequest.locations[0].address }}
        </h3>
      </ion-label>
    </ion-item>

    <ion-item class="summary-item">
      <ion-label>
        <h3 class="summary-label">
          Dropoff address
        </h3>
        <h3 class="summary-value">
          {{ jobRequest.locations[1].address }}
        </h3>
      </ion-label>
    </ion-item>

    <ion-item class="summary-item">
      <ion-label>
        <h3 class="summary-label">
          Start time
        </h3>
        <h3 class="summary-value">
          {{ jobRequest.date }} {{ jobRequest.time }}
        </h3>
      </ion-label>
    </ion-item>

    <ion-item class="summary-item">
      <ion-label>
        <h3 class="summary-label">
          Weight
        </h3>
        <h3 class="summary-value">
          {{ jobRequest.weight }} lbs.
        </h3>
      </ion-label>
    </ion-item>

    <ion-item class="summary-item">
      <ion-label>
        <h3 class="summary-label">
          Total distance
        </h3>
        <h3 class="summary-value">
          {{ jobRequest.distance | number:'1.0-1'}} miles
        </h3>
      </ion-label>
    </ion-item>

    <ion-item class="summary-item">
      <ion-label>
        <h3 class="summary-label">
          Total price
        </h3>
        <h3 class="summary-value">
          {{ jobRequest.totalPrice | currency:'USD':'symbol':'1.0-2' }}
        </h3>
      </ion-label>
    </ion-item>
  </section>

  <section>
    <button ion-button block class="job-request-button" (click)="submitJobRequest()">
      Submit
    </button>
  </section>

</ion-content>

